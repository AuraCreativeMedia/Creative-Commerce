"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[203],{6509:function(e,t,a){a.r(t);var r=a(9307),l=a(9196),n=a(4988),u=a(9978),s=a(9512),o=a(5736),c=a(5236),i=a(2629),f=a(7536),m=a(374),d=a(389),g=a(2819),v=a(9950),h=a(4271);const E=WCF_Frontend;t.default=e=>{let{name:t,value:a,setValue:p,options:w,group:_,...y}=e;const{watch:b,resetField:C}=(0,f.Gc)(),F="yes"===E.filter_num_products,{submittedValues:k,getStoredValue:S,getGroup:B,getInitialCounts:V,counts:T,prefilledValues:Z,setPrefilling:z}=(0,d.CR)(),A=S(_,t),G=b(t,A),[H,N]=(0,l.useState)(!1),[R,Y]=(0,l.useState)([]),I=B(_),M=!!(0,g.has)(I,"data."+y.facet.slug)&&(0,l.useMemo)((()=>I.data[y.facet.slug]),[I.data[y.facet.slug]]);if(!M)return(0,r.createElement)(r.Fragment,null,(0,o.__)("No values found for this custom field.","woocommerce-product-filters"));(0,c.H)((function(){const e=V(t);(0,g.has)(T,t)?Y(T[t]):Y(e),"horizontal"===y.layout&&(0,g.has)(k,t)&&N(Array.isArray(k[t])?k[t].toString():[])}));const P=e=>{var t;return null!==(t=R.find((t=>t.facet_value===e))?.counter)&&void 0!==t?t:0};return(0,l.useEffect)((()=>{const e=G;e!==H&&N(!(0,g.isEmpty)(e)&&e)}),[G]),(0,l.useEffect)((()=>{(0,g.has)(Z,t)&&(z(!0),p(t,Z[t].toString()),z(!1))}),[Z]),(0,l.useEffect)((()=>{(0,g.has)(k,t)||!0!==y.mobile||(z(!0),C(t),z(!1))}),[k]),(0,l.useEffect)((()=>{"horizontal"!==y.layout&&(0,d.BB)(Y,t)}),[]),(0,l.useEffect)((()=>(h.YB.on("filterToggled-"+t,(e=>{p(t,""),C(t),N(!1)})),()=>{h.YB.remove("filterToggled-"+t)})),[]),(0,m.Z)("wcf-reset-filters",(()=>{z(!0),p(t,""),N(!1),z(!1)})),(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{id:"wcf-items-container-"+t},(0,r.createElement)(u.Z,{value:H,onChange:e=>(e=>{N(e),p(t,e)})(e.currentTarget.value),name:"number",align:s.H.vertical},(()=>{const e=[];return(0,g.forEach)(M,((t,a)=>{if(!P(t.value)||0==P(t.value))return!0;const l=React.createElement(n.Z,{overrides:(0,v.oU)(0),value:t.value,key:t.value},(0,r.createElement)(r.Fragment,null,(0,i.decodeEntities)(t.label),F&&(0,r.createElement)("span",{className:"wcf-choices-counter"},"(",P(t.value),")")));e.push(l)})),e})())))}}}]);