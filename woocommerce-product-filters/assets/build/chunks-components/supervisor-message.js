"use strict";(self.webpackChunkwoocommerce_filters=self.webpackChunkwoocommerce_filters||[]).push([[383],{6438:function(e,t,r){r.r(t);var s=r(9307),i=r(5736),a=r(2819),o=r(9196),n=r(5236),l=r(6483),c=r(5935),u=r(389);const m=WCF_Frontend;t.default=()=>{(0,l.addQueryArgs)(m.admin_url,{page:"wc-settings",tab:"filters",section:"filters-editor"});const{filters:e}=(0,u.CR)(),[t,r]=(0,o.useState)(null),f=m.is_reindexing,d=e=>{if("attributes"===e.filter_by){const t=e.options.attributes_mode,r=e.options.specific_attribute;return"all"===t?"all_attributes":r}return"taxonomy"===e.filter_by?e.options.taxonomy:e.filter_by};(0,n.H)((()=>{const t=(()=>{const t=[];if(!(0,a.isEmpty)(e)){e.forEach(((e,r)=>{t.push({id:e.id,name:e.name,filter_by:(0,a.includes)(["taxonomy","attributes","colors"],e.filter_by)?d(e):e.filter_by})}));const r=t.reduce(((e,t)=>(e[t.filter_by]=++e[t.filter_by]||0,e)),{});return r?.cf&&delete r.cf,t.filter((e=>r[e.filter_by]))}return!1})();if(!(0,a.isEmpty)(t)&&Array.isArray(t)){const e=(0,a.map)(t,"name");r((0,i.sprintf)((0,i.__)('This message is visible to Administrators and Store Managers Only. The following filters are using the same data source: %s. Filters must be unique and must not share the same source. <a href="%s" target="_blank">[Read more]</a>',"woocommerce-product-filters"),e.join(", "),"https://barn2.com/kb/filters-same-data-source"))}!0===(()=>{const e=document.getElementsByClassName("wcf-group-wrapper"),t=[];let r=!1;return(0,a.forEach)(e,((e,s)=>{const i=e.dataset,o=t.find((e=>e.id==i.groupId));if(t.push({id:i.groupId}),!(0,a.isEmpty)(o))return r=!0,!1})),r})()&&r((0,i.sprintf)((0,i.__)('This message is visible to Administrators and Store Managers Only. Please note, you cannot use the same filter group multiple times on a page. Please make sure groups are unique. <a href="%s" target="_blank">[Read more]</a>',"woocommerce-product-filters"),"https://barn2.com/kb/filters-same-data-source"))}));const p=()=>{const e=(0,i.__)("Regenerating the index in the background. Product filtering and sorting may not be accurate until this finishes. It will take a few minutes and this notice will disappear when complete.","woocommerce-product-filters");return f&&!(0,a.isEmpty)(t)?t+"<hr/>"+e:(0,a.isEmpty)(t)&&f?(0,i.__)("This message is visible to Administrators and Store Managers Only.","woocommerce-product-filters")+" "+e:t};if((0,a.isEmpty)(p()))return null;const b=document.getElementsByTagName("body"),g=(0,s.createElement)("div",{className:"wcf-supervisor-message"},(0,c.ZP)(p()));return(0,s.createPortal)(g,b[0])}}}]);